<!-- START CONTENT HERE -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:Light,100,300&subset=latin">
<style>
    @media (min-width: 1000px) {
        #visual-specification {
            float: left;
            height: auto;
            width: 50%;
            position: absolute;
            top: 35px;
        }
    }

    #phone-infographic-wrap svg {
        height: 100%;
        width: 100%;
    }

    #height-info {
        float: right;
        padding-right: 8px;
        white-space: nowrap;
    }

    #phone-info-wrap {
        opacity: 0;
        text-align: center;
        position: relative;
        width: 90%;
    }

    .animate #phone-info-wrap {
        opacity: 1;
        transition: all 1s ease-out 1.5s;
        -webkit-transition: all 1s ease-out 1.5s;
    }

    #phone-infographic-wrap *,
    #phone-infographic-wrap *:before,
    #phone-infographic-wrap *:after {
        -webkit-box-sizing: inherit;
        box-sizing: inherit;
    }

    #phone-infographic-wrap {
        background-size: 225%;
        font-family: 'Roboto', sans-serif;
        color: #333;
        margin: 0 auto;
        margin-top: 40px;
        width: 100%;
        transform: scale(0.9);
        -ms-transform: scale(0.9);
        -webkit-transform: scale(0.9);
        position: relative;
        font-family: 'Roboto', sans-serif;
        color: #333;
        font-weight: 300;
        padding-top: 90px;
    }

    #phone-infographic {
        position: relative;
        left: 50%;
        -webkit-transform: translateX(-50%);
        -ms-transform: translateX(-50%);
        transform: translateX(-50%);
        margin-bottom: 60px;
    }

    #phone-thickness {
        float: right;
        min-width: 13.47%;
        position: relative;
    }

    #phone-stand {
        border-bottom: solid 2.25px #333434;
        height: 20px;
        overflow: hidden;
        position: absolute;
        width: 1%;
        z-index: 900;
        left: 50%;
        transform: translateX(-50%);
        -ms-transform: translateX(-50%);
        -webkit-transform: translateX(-50%);
    }

    #phone-stand.wide {
        transition: width ease 1s;
        -webkit-transition: width ease 1s;
        width: 27.57%;
    }

    #phone-stand:before {
        bottom: -50%;
        border-left: solid 2px #333;
        content: '';
        position: absolute;
        height: 0%;
        left: 38%;
        width: 10%;
    }

    #phone-stand:after {
        bottom: -50%;
        border-right: solid 2px #333;
        content: '';
        position: absolute;
        height: 0%;
        right: 38%;
        width: 10%;
    }

    #phone-stand.animated:before,
    #phone-stand.animated:after {
        height: 200%;
        transition: height ease 2s;
        -webkit-transition: height ease 2s;
    }

    #thickness {
        border: 2px solid #333434;
        -webkit-border-radius: 2px;
        border-radius: 2px;
        background: #FFFFFF;
    }

    #phone-width {
        position: relative;
    }

    #phone-width-svg,
    #thickness-svg {
        fill: transparent;
    }

    #phone-width-rect,
    #thickness-rect {
        stroke-width: 2px;
        stroke: #333434;
        stroke-dasharray: 2px 10000px;
        -webkit-transition: stroke-dasharray 1s ease;
        transition: stroke-dasharray 1s ease;
    }

    .animate #phone-width-rect,
    .animate #thickness-rect {
        stroke-dasharray: 2px 10000px;
    }

    #phone-width .display {
        background: #e9e9e9;
        opacity: 0;
        height: 89%;
        left: 50%;
        top: 50%;
        -webkit-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        position: absolute;
        overflow: hidden;
    }

    #phone-width .display.visible {
        opacity: 1;
        transition: opacity 1.7s ease-out;
        -webkit-transition: opacity 1.7s ease-out;
    }

    #phone-width .display-line {
        position: absolute;
        height: 0%;
        width: 1px;
        top: 50%;
        left: 50%;
        background: black;
        -webkit-transform-origin: center;
        -ms-transform-origin: center;
        transform-origin: center;
    }

    #phone-width .display-diagonal {
        display: none;
        position: absolute;
        top: 50%;
        left: 50%;
        -webkit-transform: translate(-50%, -50%);
        -ms-transform: translate(-50%, -50%);
        transform: translate(-50%, -50%);
        background: #e9e9e9;
        padding: 5px;
        font-weight: 100;
        font-size: 10vw;
    }

    @media screen and (min-width: 768px) {
        #phone-width .display-diagonal {
            font-size: 80px;
        }
    }

    #phone-width .display-diagonal span {
        opacity: 0;
        display: block;
        -webkit-transform: scale(0.4);
        -ms-transform: scale(0.4);
        transform: scale(0.4);
        transition: all 0.5s ease 1.5s;
        -webkit-transition: all 0.5s ease 1.5s
    }

    .animate #phone-width .display-diagonal span {
        opacity: 1;
        -webkit-transform: scale(1);
        -ms-transform: scale(1);
        transform: scale(1);
    }

    #phone-3d-height,
    #phone-3d-width,
    .thickness-line {
        z-index: 1;
    }

    #phone-3d-height,
    #phone-3d-width {
        position: absolute;
    }

    @media all and (min-width:768px) {
        #phone-3d-height,
        #phone-3d-width,
        .thickness-line,
        .thickness-label,
        .thickness-data {
            font-size: 20px;
        }
    }

    #phone-3d-height {
        height: 0%;
        border-right: 2px solid #444444;
        opacity: 0;
        -webkit-transition: height 0.4s ease 0.8s, opacity 0.4s ease 0.8s;
        transition: height 0.4s ease 0.8s, opacity 0.4s ease 0.8s;
        width: 11.84%;
    }

    .animate #phone-3d-height {
        height: 100%;
        opacity: 1;
    }

    #phone-3d-height:after {
        content: "";
        top: 0;
        right: -9px;
        position: absolute;
        height: 100%;
        width: 16px;
        border-top: 2px solid #444444;
        border-bottom: 2px solid #444444;
    }

    #phone-3d-height .phone-label,
    .phone-height-data {
        -webkit-transform: translateY(20px);
        -ms-transform: translateY(20px);
        transform: translateY(20px);
        opacity: 0;
        transition: transform 0.4s ease 1.2s, opacity 0.4s ease 1.2s;
        -webkit-transition: transform 0.4s ease 1.2s, opacity 0.4s ease 1.2s;
    }

    .phone-height-data {
        -webkit-transition-delay: 1.3s;
        transition-delay: 1.3s;
    }

    .animate #phone-3d-height .phone-label,
    .animate .phone-height-data {
        -webkit-transform: translateY(0px);
        -ms-transform: translateY(0px);
        transform: translateY(0px);
        opacity: 1;
    }

    #phone-3d-width-wrapper {
        left: 50%;
        position: relative;
        transform: translateX(-50%);
        -webkit-transform: translateX(-50%);
        width: 69.388%;
    }

    .thickness-line {
        height: 14px;
        position: relative;
    }

    #phone-3d-width,
    .thickness-line {
        left: 50%;
        width: 0%;
        border-bottom: 2px solid #444444;
        -webkit-transform: translateX(-50%);
        -ms-transform: translateX(-50%);
        transform: translateX(-50%);
        opacity: 0;
    }

    .thickness-line {
        -webkit-transition: width 0.4s ease 0.8s, opacity 0.4s ease 0.8s;
        transition: width 0.4s ease 0.8s, opacity 0.4s ease 0.8s;
    }

    #phone-3d-width {
        transition: none;
        -webkit-transition: none;
    }

    .measure {
        top: -90px;
        height: 60px;
    }

    #phone-infographic-wrap .absolute {
        position: absolute;
        width: 100%;
    }

    #phone-infographic-wrap .bottom {
        bottom: 0;
    }

    #phone-infographic-wrap .relative {
        position: relative;
    }

    .animate #phone-3d-width {
        -webkit-transition: all 0.4s ease 0.9s;
        transition: all 0.4s ease 0.9s;
        width: 100%;
    }

    .animate #phone-3d-width,
    .animate .thickness-line {
        opacity: 1;
    }

    #phone-3d-width::after,
    #thickness-width::after {
        content: "";
        left: 0;
        bottom: -9px;
        position: absolute;
        height: 16px;
        width: 100%;
        border-left: 2px solid #444444;
        border-right: 2px solid #444444;
    }

    #thickness-width::after {
        transform: translateX(-50%);
        -ms-transform: translateX(-50%);
        -webkit-transform: translateX(-50%);
        left: 50%;
    }

    #phone-3d-width .phone-label,
    .phone-width-data,
    .thickness-label,
    .thickness-data {
        -webkit-transform: translateX(20px);
        -ms-transform: translateX(20px);
        transform: translateX(20px);
        opacity: 0;
        transition: transform 0.4s ease 1.2s, opacity 0.4s ease 1.2s;
        -webkit-transition: transform 0.4s ease 1.2s, opacity 0.4s ease 1.2s;
    }

    .phone-width-data,
    .thickness-data {
        -webkit-transition-delay: 1.3s;
        transition-delay: 1.3s;
        white-space: nowrap;
    }

    .animate #phone-3d-width .phone-label,
    .animate .phone-width-data,
    .animate .thickness-label,
    .animate .thickness-data {
        -webkit-transform: translateX(0px);
        -ms-transform: translateX(0px);
        transform: translateX(0px);
        opacity: 1;
    }

    .thickness-label,
    .thickness-data {
        text-align: center;
    }

    .phone-svg-wrap rect {
        -webkit-transform: rotate3d(0, 1, 0, 180deg) rotate(180deg);
        transform: rotate3d(0, 1, 0, 180deg) rotate(180deg);
        -ms-transform: rotate3d(0, 1, 0, 180deg) rotate(180deg);
        -webkit-transform-origin: center;
        -ms-transform-origin: center;
        transform-origin: center;
    }

    #phone-info-wrap:after {
        -webkit-transition: bottom 0.4s ease 3.2s, height 0.4s ease 3.2s;
        transition: bottom 0.4s ease 3.2s, height 0.4s ease 3.2s;
        left: 50%;
    }

    .animate #phone-info-wrap:before {
        width: 95%;
    }

    #phone-info-wrap:before {
        -webkit-transition: width 1s ease 1.3s;
        transition: width 1s ease 1.3s;
        -webkit-transform: translateX(-50%);
        -ms-transform: translateX(-50%);
        transform: translateX(-50%);
        top: -40px;
        left: 50%;
        height: 2px;
        width: 0;
        display: none;
    }

    .phone-info-items {
        width: 100%;
        margin: 0;
        padding: 0;
        list-style: none;
        height: 100%;
        overflow: hidden;
    }

    .phone-info-icon {
        width: 80px;
        height: 80px;
        position: absolute;
        opacity: 0;
        -webkit-transition: opacity 0.4s ease 2.3s;
        transition: opacity 0.4s ease 2.3s;
    }

    .animate .phone-info-icon {
        opacity: 1;
    }

    .phone-info-icon svg {
        fill: #333;
    }

    .phone-info-label {
        font-size: 10px;
    }

    .phone-info-dwrap {
        font-size: 10px;
        padding-left: 50px;
    }

    .phone-info-label,
    .phone-info-data {
        -webkit-transform: translateX(20px);
        -ms-transform: translateX(20px);
        transform: translateX(20px);
        opacity: 0;
        transition: transform 0.4s ease 2.4s, opacity 0.4s ease 2.4s;
        -webkit-transition: transform 0.4s ease 2.4s, opacity 0.4s ease 2.4s;
    }

    @media (min-width: 600px) {
        #phone-info-wrap {
            margin: 0 auto;
            margin-top: 72px;
        }
    }

    @media (min-width: 1000px) {
        #phone-image-wrap {
            -webkit-transform: scale(0.9) translateX(20px);
            -ms-transform: scale(0.9) translateX(20px);
            transform: scale(0.9) translateX(20px);
        }

        #phone-infographic-wrap {
            margin: 0;
            top: 0;
            padding-top: 140px;
        }

        #phone-info-wrap:before {
            display: block;
        }
    }

    @media (min-width: 1280px) {
        #phone-image-wrap {
            -webkit-transform: translateX(0px);
            -ms-transform: translateX(0px);
            transform: translateX(0px);
        }

        #phone-infographic-wrap {
            margin: 0;
            top: 0;
        }
    }

    .deviceParams {
        opacity: 0;
        transform: translateX(20px);
        /* -ms-transform: translateX(20px); */
        -webkit-transform: translateX(20px);
    }

    .deviceParams.animated {
        opacity: 1;
        transform: translateX(0);
        -webkit-transform: translateX(0);
        /* -ms-transform: translateX(0); */
        transition: transform 1.5s ease 1s, opacity 3s ease-out 1s;
        -webkit-transition: -webkit-transform 1.5s ease 1s, opacity 3s ease-out 1s;
    }

    #resolution_value {
        font-size: 14px;
    }

    tspan {
        font-weight: 300;
    }

    #svg-arrows.go-rotate {
        transform: rotate(-360deg);
        -ms-transform: rotate(-360deg);
        -webkit-transform: rotate(-360deg);
        transition: transform 2s ease;
        -webkit-transition: transform 2s ease;
    }

    #svg-arrows {
        bottom: 66%;
        left: 0%;
        position: absolute;
        transform-origin: center;
        -ms-transform-origin: center;
        -webkit-transform-origin: center;
        top: 6%;
        width: 11%;
    }

    #svg-arrows polygon {
        fill: #2b2e31;
    }

    #svg-arrows path {
        fill: none;
        stroke: #2b2e31;
        stroke-width: 0.75;
        stroke-linecap: round;
        stroke-miterlimit: 10
    }

    .separator {
        stroke: #E2E3E4;
        stroke-width: 0.6268;
    }
</style>
<script src="https://cdn.jsdelivr.net/mojs/latest/mo.min.js"></script>

<script>
    // check if an param resides inside the window
    (function () {
        /* will set data:
            #paneltype_value > tspan // LED
            #high-dynamic-range_value > tspan // JA
            #high-dynamic-range_value > tspan // JA
        */
        var $body = $('body'),
            transitionEvent = (function () {
                var bodyStyles = $body[0].style,
                    // check browserspecific name for events
                    transitions = {
                        'transition': 'transitionend',
                        'OTransition': 'oTransitionEnd',
                        'MozTransition': 'transitionend',
                        'WebkitTransition': 'webkitTransitionEnd'
                    };

                for (var t in transitions) {
                    if (t in bodyStyles) {
                        return transitions[t];
                    }
                }
            })(),
            ja = "Ja",
            no = "Nej",
            device = {
                top: {
                    'diagonal': [null],
                    'height': ['#phone-3d-height .phone-label'],
                    'width': ['#phone-3d-width .phone-label'],
                    'thickness': ['#phone-thickness .thickness-label']
                },
                bottom: {
                    'paneltype': ['#Paneltype > tspan'],
                    'high-dynamic-range': ['#High-Dynamic-Range > tspan'],
                    'full-hd': ['#Full-HD > tspan'],
                    'smart-tv': ['#SmartTV > tspan']
                },
                tvValuesJa: [
                    'high-dynamic-range'
                ],
                // if you need to add something to value, for instance, *Hz*
                tvValuesXtra: {
                    // 'paneltype': 'Hz'
                },
                // if we want split value into 2 string
                // (doesn't mean, however, that we are going to show both of them) 
                tvSplit: {
                    'full-hd': ['resolution']
                },
                paramsToSplit: {
                    bottom: {
                        3: [1]
                    }
                }
            },
            prodFieldsArray;
        // contains hearders for SVG [0] and td texts [1] to parse for headers
        // linked to device Object
        switch (globals.channelName) {
            // DENMARK
            case "elgigantenDK":
                prodFieldsArray = {
                    top: [
                        'Skærmstørrelse (tommer)',
                        ['Højde', 'Højde (cm)'],
                        ['Bredde', 'Bredde (cm)'],
                        ['Dybde', 'Dybde (cm)']
                    ],
                    bottom: [
                        ['Opdateringshastighed', 'Opdateringshastighed (Hz)'], // *(Hz): 165
                        ['Buet display', 'Skærmform'],  // Kurvet skjerm : Buet (Curved)
                        ['Opløsning', 'Maks. opløsning'],             // full-hd
                        'Skærmteknologi til gaming'
                    ]
                }; //*
                break;
            // SVERIGE
            case "elgigantenSE":
                prodFieldsArray = {
                    top: [
                        'Skärmstorlek (tum)', // diagonal
                        ['Höjd', 'Höjd (cm)'], // OR Höjd (cm) ?
                        ['Bredd', 'Bredd (cm)'],
                        ['Djup', 'Djup (cm)'],
                    ],
                    bottom: [
                        ['Oppdateringsfrekvens', 'Refresh rate (Hz)'], // *(Hz): 165
                        ['Böjd skärm', 'Skärmform'], // Kurvet skjerm : Välvd (Curved)
                        ['Upplösning', 'Maximal upplösning'],
                        'Skärmteknologi för spel/gaming'
                    ]
                }; //*
                break;
            // SUOMI
            case "gigantti":
                ja = "Kyllä";
                no = "Ei";
                prodFieldsArray = {
                    top: [
                        'Koko (tuuma)',   // diagonal
                        // Kuvasuhde ratio
                        ['Korkeus', 'Korkeus telineen kanssa (cm)'],
                        'Leveys',
                        ['Syvyys', 'Syvyys (cm)']
                    ], 
                    bottom: [
                        ['Virkistystaajuus', 'Virkistystaajuus (Hz)'], //*(Hz): 165
                        ['Kaareva näyttö', 'Näytön tyyppi'], // Kurvet skjerm : Kaareva (Curved)
                        ['Resoluutio', 'Max. resoluutio'],
                        'Pelinäytön teknologia'
                    ]
                }; //*
                break;
            // NORGE
            default:
                no = "Nei";
                prodFieldsArray = {
                    top: [
                        'Størrelse (tommer)',  // diagonal
                        ['Høyde', 'Høyde (cm)'],      // height
                        ['Bredde', 'Bredde (cm)'],     // width
                        ['Dybde', 'Dybde (cm)']
                    ], 
                    bottom: [      // thickness
                        'Oppdateringsfrekvens', // 165
                        ['Kurvet skjerm ','Skjermtype'], // Kurvet skjerm : Buet (Curved)
                        ['Oppløsning', 'Maks oppløsning'],
                        'Skjermteknologi til gaming'
                    ]
                };
        };

        var // return td[0] text
            getProdFieldsArrayVal = function (key, index) {
                return Array.isArray(prodFieldsArray[key][index]) ? prodFieldsArray[key][index][0] : prodFieldsArray[key][index];
            },
            setValSection = function (key) {
                var index = 0;
                //
                $(Object.keys(device[key])).each(function () {
                    if (device[key][this] !== null) {
                        device[key][this].push(getProdFieldsArrayVal(key, index));
                    } // console.log('key?', {key:key, this:this, deviceKey:device[key], device:device});
                    ++index; // console.log('key=>' + index + ', ' + this);
                });
            };
        // 
        $(document).ready(function () {
            setValSection('top');
            setValSection('bottom');
            // console.log('device', device); return;
            // the table with a device params
            var liActiveClass = 'active',
                $display = $('.display'),
                $diagonalSize = $('.display-diagonal'),
                $displayDiagonalSpan = $('.display-diagonal').find('span'),
                $displayLine = $('.display-line'),
                $phoneImageWrap = $('#phone-image-wrap'),
                $phoneInfographic = $('#phone-infographic'),
                $phoneInfographicWrap = $('#phone-infographic-wrap'),
                $svgInside = $phoneInfographicWrap.find('svg'),
                $phone3dHeight = $('#phone-3d-height'),
                $phoneHeightData = $('.phone-height-data'),
                selectorPhoneThickness = '#phone-thickness',
                $phoneThickness = $(selectorPhoneThickness),
                $phoneStand = $('#phone-stand'),
                selectorPhoneWidth = '#phone-width',
                $tabSpecsTrigger = $('#tab-specs-trigger'),
                $phoneWidth = $(selectorPhoneWidth),
                $phoneWidthData = $('.phone-width-data'),
                $tabs = $('#product-tabs-group .tabs .tab a'),
                $thicknessData = $('.thickness-data'),
                $thicknessLine = $('#thickness-width'),
                // svg shapes, new mojs.Shape will be assigned
                svgShapes = {
                    outline: null,
                    sideview: null
                },
                isAnimated;

            $body.addClass('hasPhoneSize');
            $('.phone-svg-wrap').append($display)
            // check if we have a table at all
            if (!$('.spec-table').length) {
                return;
            }
            // array to store fields, which values were used, in order to skip for next iterations
            var paramsToSkip = [],
                cntFound = 0,
                splitter;
            limit = Object.keys(device.top).length + Object.keys(device.bottom).length;
            // 
            $('.spec-table tr').each(function (k, el) {
                var $els = $(el).find('td'),
                    td_param_name = $els.first().text().trim(),
                    td_param_value = $els.last().text().trim();
                // 
                !fillValue('top', td_param_name, td_param_value)
                    && fillValue('bottom', td_param_name, td_param_value);
                if (cntFound === limit) {
                    return;
                }
            });
            console.log('device=>', device);
            /**
            * walk through table
            * @param {String} key of d /smart-tv/
            * @param {String} td_param_name /Skjermteknologi til gaming/
            * @param {String} td_param_value /AMD FreeSync/
            */
            function fillValue(key, td_param_name, td_param_value) {
                var headerText,
                    currentKey,
                    valArray,
                    arrayElements,
                    result,
                    deviceParamHeader;
                // don't use jQuery.ehch as return gets less controllable
                // may implement up to 2x4 iterations
                for (var i = /* ndx ||  */0,
                    // all headers
                    j = prodFieldsArray[key].length;
                    i < j;
                    i++) {
                    var eq = ' = ';
                    /* console.groupCollapsed('i: ' + i + ', fillValue, name, value => %c %s %c %s %c %s',
                        'color: violet',
                        td_param_name,
                        'color:black',
                        eq,
                        'color: orange',
                        td_param_value);
                    console.log('prodFieldsArray ['+key+'][' + i + '] =>', {
                        prodFieldsArray: prodFieldsArray,
                        td_param_name: td_param_name,
                        td_param_value: td_param_value
                    }); */
                    //
                    deviceParamHeader = prodFieldsArray[key][i];
                    // if there is no return to be, set value!
                    if (Array.isArray(deviceParamHeader)) {
                        headerText = deviceParamHeader[1];
                        if (td_param_name != headerText) {
                            /* console.log('%c %s %c %s', 'background-color: violet', ' headerText', 'color:violet; font-weight:900', headerText);
                            console.groupEnd();
                            console.log('%c %s', 'color:red', 'continue 1'); */
                            continue;
                        }
                    } else {
                        headerText = deviceParamHeader;
                        if (td_param_name.indexOf(headerText) === -1) {
                            /* console.log('%c %s %c %s', 'background-color: violet', ' headerText', 'color:violet; font-weight:900', headerText);
                            console.groupEnd();
                            console.log('%c %s', 'color:red', 'continue 2'); */
                            continue;
                        }
                    }
                    // return if the value was added already
                    if (paramsToSkip.indexOf(deviceParamHeader) !== -1) {
                        // console.log('%cskip it!', 'color:red'); console.groupEnd();
                        return true;
                    }
                    // console.log('? paramsToSplit[' + key + '] =>', device.paramsToSplit[key]);
                    if (td_param_value &&
                        device.paramsToSplit[key] &&
                        // deviceKeys.paramsToSplit.bottom[3]
                        (splitter = device.paramsToSplit[key][i]) &&
                        (valArray = td_param_value.split(" "))
                    ) {
                        td_param_value = "";
                        // if we need to handle value before set it
                        // [1,3]
                        $(splitter).each(function (index, targetIndex) { //
                            arrayElements = splitter[targetIndex]; // [1]
                            td_param_value += valArray[targetIndex] + " ";
                            // console.log('%cMake split', 'color:brown', {key:key,tosplit: device.paramsToSplit[key], splitter:splitter});
                            result = true;
                        });

                    } /* else 
                        console.log({
                            deviceParamHeader:deviceParamHeader,
                            td_param_value: td_param_value,
                            '?splitter': splitter,
                            valArray:valArray
                        }
                    ); */
                    //
                    currentKey = Object.keys(device[key])[i];
                    // add to skip here as it is will to be trim after
                    paramsToSkip.push(deviceParamHeader);
                    var value = td_param_value.trim().replace(",", ".");
                    //console.log('push to device, ' + deviceParamHeader, { key: key, i: i, currentDevice: device[key], value: value, });
                    // push extracted value
                    device[key][currentKey].push(value);
                    ++cntFound;
                    //console.groupEnd();
                    //console.log('%cpush value', 'color:blue', td_param_value.trim().replace(",", "."));
                    return true; // returns result
                }
                return result;
            }

            var warn, warnText = 'Not detected: ';
            $(Object.keys(device.top)).each(function () {
                // console.log('param=>',this);
                if (!device.top[this][2]) {
                    warnText += '\n' + this;
                }
            });
            if (warn) {
                console.warn(warnText);
                return false;
            }

            // DOMContentLoaded resize scroll ! event (click)
            function start(event) {

                var tabTargetClicked,
                    liActive = $tabSpecsTrigger.parent('li').hasClass(liActiveClass);

                // the animation area is hidden
                if (!liActive) {
                    return false;
                }
                // is clicked, then check further
                if (!(inViewport() && event)) {
                    return false;
                }

                tabTargetClicked = event &&
                    // the parent li has .active class
                    liActive && event.type == 'click';

                if (event &&
                    (event.type == 'resize' || tabTargetClicked)) {
                    isAnimated = false;
                }

                if (!
                    ( // we can see animation in viewport on load
                        (event.type == 'DOMContentLoaded' || event.type == 'resize')
                        ||
                        // was not run and scroll 
                        (event.type == 'scroll' && !isAnimated)
                        ||
                        // was not run and click on the target tab 
                        (tabTargetClicked && !isAnimated)
                    )
                ) {
                    return false;
                }

                $display.removeClass('visible');
                $phoneInfographicWrap.removeClass('animate');
                $('[data-name="mojs-shape"]').remove();
                var animatedClassName = 'animated'
                wideCLass = 'wide';
                $phoneStand.removeClass(wideCLass).removeClass(animatedClassName);

                var tmt1, tmt = setTimeout(function () {
                    $phoneStand.addClass(wideCLass);
                    tmt1 = setTimeout(function () {
                        $phoneStand.addClass(animatedClassName);
                    }, 1000);
                }, 1000);

                var widthBox = parseInt($phoneInfographicWrap.css('width')), // 627
                    widthDevice = widthBox / 100 * 69.4,
                    displayW = widthDevice - 20,
                    heightDevice = device.top.height[2] / device.top.width[2] * widthDevice,
                    displayH = heightDevice - 20,
                    thickness = widthBox / 100 * 0.66,
                    phoneWrapH = heightDevice / 100 * (100 + 2.669),
                    standHeight = widthBox / 100 * 3.5,
                    standWidth = widthBox / 100 * 25.92,
                    phRW = widthDevice / 2,
                    phRH = heightDevice / 2,
                    strokeColor = '#333434';
                $thicknessData.text(device.top.thickness[2] + ' cm');
                $phoneHeightData.text(device.top.height[2] + ' cm');
                $phoneWidthData.text(device.top.width[2] + ' cm');
                $displayDiagonalSpan.text(device.top.diagonal[2] + "″");
                $phoneThickness.css({ width: thickness, height: heightDevice });
                $thicknessLine.css({ width: thickness + 10 });

                // set headers for top & bottom
                $(['top', 'bottom']).each(function (i, key) {
                    $(Object.keys(device[key])).each(function (index, innerKey) {
                        $(device[key][innerKey][0]).text(device[key][innerKey][1]+':');
                    });
                });

                //
                $(Object.keys(device.bottom)).each(function (index, paramKey) {
                    setDeviceBottomValues(paramKey);
                });

                for (var i = 0,
                    objs = [$phoneImageWrap, $phoneInfographic, $phoneWidth, $phone3dHeight.eq(0)];
                    i < objs.length;
                    i++
                ) {
                    objs[i].css('height', heightDevice);
                }
                // set stand
                $phoneStand.css({
                    bottom: -standHeight,
                    height: standHeight - 2
                });

                if (!widthBox || !phoneWrapH) {
                    console.warn({
                        widthBox: widthBox,
                        phoneWrapH: phoneWrapH,
                        widthBox: widthBox,
                        widthDevice: widthDevice,
                        'device.height': device.top.height[2],
                        'device.width': device.top.width[2]
                    });
                    return;
                } /* else {
                    console.log('check values', {
                        widthBox: widthBox,
                        heightDevice: heightDevice,
                        widthBox: widthBox,
                        widthDevice: widthDevice,
                        thickness: thickness,
                        'device.height': device.top.height[2],
                        'device.width': device.top.width[2]
                    });
                } */

                // device outline       #phone-width
                svgShapes.outline = new mojs.Shape({
                    parent: selectorPhoneWidth,
                    shape: 'rect',
                    className: 'outline-display',
                    width: widthBox, // 627
                    height: phoneWrapH, // 270.75
                    fill: 'none',
                    radiusY: phRH,
                    radiusX: phRW,
                    stroke: strokeColor,
                    rx: 4,
                    ry: 4,
                    strokeWidth: 2,
                    strokeDasharray: '100%',
                    strokeDashoffset: { '100%': '0%' },
                    duration: 2000
                });

                // return;
                // animate measure stick and display diagonal digits
                // check delay in css
                // #phone-3d-width -- measure stick
                // #phone-width .display-diagonal span - digits"
                $phoneInfographicWrap.addClass('animate');
                // 
                drawRectParams(1000);
                // device sideview #phone-thickness
                svgShapes.sideview = new mojs.Shape({
                    parent: selectorPhoneThickness,
                    shape: 'rect',
                    width: thickness + 10,
                    height: phoneWrapH,
                    fill: 'none',
                    radiusY: phRH,
                    radiusX: thickness / 2,
                    stroke: strokeColor,
                    strokeWidth: 2,
                    strokeDasharray: '100%',
                    strokeDashoffset: { '100%': '0%' },
                    duration: 2400,
                });
                // run animation
                $(Object.keys(svgShapes)).each(function () {
                    if (svgShapes[this] && typeof svgShapes[this].play == 'function') {
                        svgShapes[this].play();
                    } else {
                        console.warn('No svgShapes.' + this + '.play()');
                    }
                });
                $(window).off('resize scroll', start);
                //
                isAnimated = true;
            } // end of function start

            $(window).on('DOMContentLoaded resize scroll', function (event) {
                start(event);
            });

            // 
            $phoneInfographicWrap.show();
            $tabSpecsTrigger.on('click', function (event) {
                if (isAnimated) return;
                // 
                setTimeout(function () {
                    try {
                        start(event);
                    } catch (e) {
                        console.trace(e.message);
                    }
                }, 300);
            });
            // check if animation intersects the visible area
            function inViewport(test) {
                //
                var animationTopOffset = $phoneInfographicWrap.offset().top,
                    windowScrollTop = $(window).scrollTop(),
                    animationHeight = $phoneInfographicWrap.height(),
                    animationUp = animationTopOffset < windowScrollTop,
                    animationDown = animationTopOffset > windowScrollTop,
                    windowBottomPos = windowScrollTop + window.innerHeight,
                    animationBottomPos = animationTopOffset + animationHeight;

                return (animationDown && animationTopOffset < windowBottomPos) ||
                    (animationUp && animationBottomPos > windowScrollTop);
            }
            // draw width and height params
            // for a performance purpose it would be better off to convert everything in css-animation :(
            // but the point is it would be better off to unify all the animation scripts! :(((
            function drawRectParams(delay) {
                var intv = setTimeout(function () {
                    var basicBlock = $('.outline-display rect')[0],
                        basicWidth = basicBlock.getAttribute('width'),
                        basicHeight = basicBlock.getAttribute('height'),
                        dAngle,
                        widthReducerValue = 0.92;
                    // set a gray screen visible
                    $display.css({
                        width: basicWidth * widthReducerValue
                    });
                    // set a grey display visible
                    $display.addClass('visible');
                    // WARNING! the divider for basicHeight should be taken from css table for .display
                    dAngle = Math.atan((basicWidth * widthReducerValue) / (basicHeight * 0.89)) * 180 / 3.14;
                    // set class to the icons values
                    $('.deviceParams').addClass('animated');
                    // set diagonal line
                    $displayLine.css({
                        '-webkit-transform': '-webkit-translate(-50%, -50%) rotate(' + dAngle + 'deg)',
                        '-ms-transform': '-ms-translate(-50%, -50%) rotate(' + dAngle + 'deg)',
                        transform: 'translate(-50%, -50%) rotate(' + dAngle + 'deg)'
                    });
                    var st1 = setTimeout(function () {
                        $displayLine.animate({
                            height: '209%'
                        }, 500, function () {
                            $diagonalSize.fadeIn(1000);
                            var $svgArrows = $('#svg-arrows');
                            $svgArrows.length && $svgArrows.addClass('go-rotate');
                        });
                        clearTimeout(st1);
                    }, 1000);
                }, delay || 0);
            }
            //
            function checkXtraStr(param, val) {
                //tvValuesXtra
                // tvValuesXtra = { 'high-dynamic-range':'Hz' }
                if (val == 'Unknown') {
                    val = no;
                } else {
                    var values = Object.keys(device.tvValuesXtra);
                    for (var i = 0, j = values.length; i < j; i++) {
                        if (values[i] === param) { // high-dynamic-range
                            // console.log('%cSet xtra val=>', 'background: violet', val);
                            if (val != ja && val != no) {
                                val += device.tvValuesXtra[values[i]];
                            }
                            // console.log('%cGot it=>', 'background:green', {valuesI:values[i],param:param,val : val});
                            return val;
                        }
                    }
                }
                return val;
            }
            // set values to device params
            // @param {String} like 'high-dynamic-range'
            function setDeviceBottomValues(paramKey) {
                if (!paramKey) {
                    console.warn('No paramKey');
                }
                var paramsBottom = device['bottom'],
                    //strValue,
                    strSelector,
                    rValRes = ja,
                    rVal = "Unknown",
                    rValUp = no;
                // array means we need to parse value and split it into more than one string
                if (!Array.isArray(paramsBottom[paramKey])) {
                    // console.error('Not Array =>', paramsBottom[paramKey]);
                    return;
                } //console.log('%cparamKey=>', 'color:red', paramKey);

                strSelector = paramsBottom[paramKey][0];

                // 
                if (paramKey in device.tvSplit) { //console.log('%cparam=>', 'color:red', paramKey);
                    if (!Array.isArray(paramsBottom[paramKey])) {
                        console.warn('paramsBottom[' + paramKey + '] is not Array =>', paramsBottom[paramKey]);
                    } else if (!paramsBottom[paramKey][0]) {
                        console.warn('paramsBottom[' + paramKey + '] has no selector =>', paramsBottom[paramKey]);
                    } else if (!paramsBottom[paramKey][2]) {
                        rValRes = no;
                    } else {
                        // get value
                        var strValue = paramsBottom[paramKey][2],
                            strings = [];
                        /* console.log({
                            strValue: strValue,
                            paramKey: paramKey,
                            'paramsBottom[paramKey]': paramsBottom[paramKey],
                            tvSplit: device.tvSplit[paramKey]
                        }); */
                        if (device.tvValuesJa.indexOf(paramKey) !== -1) {
                            var start = strValue.indexOf(' (');
                            if (start !== -1) {
                                strings.push(strValue.substring(0, start++));
                                strings.push(strValue.substring(start));
                            }
                        } else {
                            strings.push(strValue);
                        }
                        $(device.tvSplit[paramKey]).each(function (index, selector) {
                            $('#' + selector + '_value >tspan').text(strings[index]);
                            // console.log('check value=>', { selector: selector, element: $('#' + selector + '_value >tspan'), value: strings[index], strings: strings });
                        });
                    }

                } else { //console.log('%cparam=>', 'color:blue', 'paramsBottom['+paramKey+']: '+paramsBottom[paramKey]);
                    if (device.tvValuesJa.indexOf(paramKey) === -1) {
                        rValRes = paramsBottom[paramKey][2];
                    } else {
                        rValRes = no;
                    }// console.log('%cparam', 'background:orange', {paramKey:paramKey, rValRes:rValRes});
                    //
                    if (checkXtraStr) {
                        // check if we need add something to the extracted value like *Hz*
                        rValRes = checkXtraStr(paramKey, rValRes);
                    } else {
                        console.log('No checkXtraStr');
                    }
                    // console.log('%c' + paramsBottom[paramKey][1] + ', set text value to ', 'color:violet', rValRes);
                    //
                    $('#' + paramKey + '_value >tspan').text(rValRes);
                }
            }
        });
    }());
</script>

<div id="phone-infographic-wrap">
    <div id="phone-infographic">
        <div id="phone-image-wrap">
            <div id="phone-thickness">
                <div class="measure relative">
                    <section class="absolute bottom">
                        <div class="thickness-label">Thickness
                            <!-- Tykkelse: -->
                        </div>
                        <div class="thickness-data"></div>
                        <div id="thickness-width" class="thickness-line"></div>
                    </section>
                </div>
            </div>
            <div id="phone-front">
                <div id="phone-stand"></div>
                <div id="phone-width">
                    <div class="display">
                        <div class="display-line"></div>
                        <div class="display-diagonal">
                            <span></span>
                        </div>
                    </div>
                    <div id="phone-3d-height">
                        <div id="height-info">
                            <div class="phone-label">Height
                                <!-- Høyde: -->
                            </div>
                            <div class="phone-height-data"></div>
                        </div>
                    </div>
                    <div id="phone-3d-width-wrapper">
                        <div id="phone-3d-width" class="measure">
                            <section class="absolute bottom">
                                <div class="phone-label">Width
                                    <!-- Lengde: -->
                                </div>
                                <div class="phone-width-data"></div>
                                <div class="thickness-line empty"></div>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="phone-info-wrap">
        <div id="svg-arrows">

            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
            <!-- Created with Inkscape (http://www.inkscape.org/) -->

            <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="19.1mm" height="17.5mm" viewBox="0 0 19.100001 17.5"
                version="1.1" id="svg4881" inkscape:version="0.92.1 r15371" sodipodi:docname="arrows-refresh.svg">
                <defs id="defs4875" />
                <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2"
                    inkscape:zoom="1.979899" inkscape:cx="63.982524" inkscape:cy="19.304115" inkscape:document-units="mm" inkscape:current-layer="svg4881"
                    showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:window-width="1366"
                    inkscape:window-height="715" inkscape:window-x="-8" inkscape:window-y="-8" inkscape:window-maximized="1"
                />
                <metadata id="metadata4878">
                    <rdf:RDF>
                        <cc:Work rdf:about="">
                            <dc:format>image/svg+xml</dc:format>
                            <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
                            <dc:title></dc:title>
                        </cc:Work>
                    </rdf:RDF>
                </metadata>
                <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="arrows-container" transform="translate(-0.21477,-1.1809485)">
                    <path d="m 16.914772,13.980948 c -1.4,2.5 -4.1,4.2 -7.1999999,4.2 -4.2000005,0 -7.7000005,-3.2 -8.2000005,-7.3" inkscape:connector-curvature="0"
                        id="path-refresh-top" />
                    <polygon points="590.5,336.5 591.8,342.1 586.2,340.4 " id="polygon-refresh-top" transform="translate(-572.48523,-326.51905)"
                    />
                    <path d="m 2.5147716,5.8809485 c 1.4,-2.5 4.1000005,-4.2 7.2000005,-4.2 4.1999999,0 7.6999999,3.2 8.1999999,7.3" inkscape:connector-curvature="0"
                        id="path-refresh-bottom" />
                    <polygon points="574,336.5 572.7,330.8 578.2,332.5 " id="polygon-refresh-bottom" transform="translate(-572.48523,-326.51905)"
                    />
                </g>
            </svg>

        </div>
        <?xml version="1.0" encoding="UTF-8" standalone="no"?>
        <svg width="284" height="116" viewBox="0 0 284 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <title id="title2">Group 2</title>
            <desc>Created with Sketch.</desc>
            <defs>
                <style>
                    #full-hd_value {
                        display: none;
                    }

                    .icon-wrapper-header {
                        font-weight: normal;
                        font-size: 6.26830006px;
                        fill: #01082e;
                        fill-rule: evenodd;
                        stroke: none;
                        stroke-width: 1
                    }

                    .deviceParams {
                        fill: #01082E;
                        font-size: 18px;
                    }

                    .figure path,
                    .figure line {
                        fill: none;
                        fill-rule: evenodd;
                        stroke: #2b2e31;
                        stroke-width: 0.6268;
                    }

                    .figure text {
                        font-size: 17.09280014px;
                        font-family: Roboto;
                        font-weight: 300;
                        display: inline;
                        fill: #01082e
                    }
                    tspan{
                        font-weight: 300;
                    }

                    #g-refresh {
                        transform: translate(-446.3866px, -246.40039px);
                    }

                    #g-refresh path {
                        fill: none;
                        stroke: #2b2e31;
                        stroke-linecap: round;
                        stroke-miterlimit: 10;
                    }

                    #g-refresh polygon {
                        fill: #2b2e31;
                    }

                    #g-refresh2 {
                        transform: rotate(0deg) translate(134px, 51px);
                        transform-origin: center;
                    }
                </style>
            </defs>
            <g inkscape:groupmode="layer" id="layer2" inkscape:label="working" style="display:inline;opacity:1">
                <text class="icon-wrapper-header" id="Paneltype" x="-0.38659999" y="-0.5">
                    <tspan x="38.4109" y="11.5405">Paneltype:</tspan>
                </text>
                <text class="deviceParams" id="paneltype_value" x="-0.38659999" y="-0.5">
                    <tspan x="38.4109" y="32.430199">Unknown</tspan>
                </text>
                <text class="icon-wrapper-header" id="High-Dynamic-Range" x="-0.38659999" y="-0.5">
                    <tspan x="190" y="11.5405" id="tspan14">High Dynamic Range:</tspan>
                </text>
                <text class="deviceParams" id="high-dynamic-range_value" x="-0.38659999" y="-0.5">
                    <tspan x="190" y="32.430199" id="tspan17">Unknown</tspan>
                </text>
                <text class="icon-wrapper-header" id="Full-HD" x="-0.38659999" y="-0.5">
                    <tspan x="38.820599" y="81.421898">Full-HD</tspan>
                </text>
                <g id="full-hd-value" transform="translate(38.8196,83.252)">
                    <text style="font-size:10px" id="full-hd_value">
                        <tspan x="0" y="13" id="tspan23">Unknown</tspan>
                    </text>
                    <text class="deviceParams" id="resolution_value">
                        <tspan x="0" y="23.700001">Unknown</tspan>
                    </text>
                </g>
                <path class="separator" inkscape:connector-curvature="0" d="M 121.3134,0.5 V 116" />
                <path class="separator" inkscape:connector-curvature="0" d="M 110.13485,56.399998 H 0.1134" />
                <path class="separator" inkscape:connector-curvature="0" d="m 269.2134,56.4 h -132.3" />
                <text class="icon-wrapper-header" id="SmartTV" x="-0.38659999" y="-0.5">
                    <tspan x="190" y="81.936501">SmartTV:</tspan>
                </text>
                <text class="deviceParams" id="smart-tv_value" x="-0.38659999" y="-0.5">
                    <tspan x="190" y="105.335">Unknown</tspan>
                </text>
                <g id="figure2" class="figure" transform="translate(22)">
                    <path inkscape:connector-curvature="0" stroke-miterlimit="10" d="m 114.994,31.4166 c 0,-7.6 0,-15.100001 0,-22.7000016 0,-0.8000002 0.70001,-1.4000002 1.50001,-1.3000002 12.90006,1.9000002 26.10013,1.9000002 39.00019,0 0.8,-0.1 1.50001,0.4 1.50001,1.3000002 0,7.6000006 0,15.1000016 0,22.7000016 0,0.8 -0.70001,1.4 -1.50001,1.3 -12.90006,-1.9 -26.10013,-1.9 -39.00019,0 -0.8,0.1 -1.50001,-0.5 -1.50001,-1.3 z"
                        id="path4842-8" style="fill:none;fill-rule:evenodd;stroke:#2b2e31;stroke-width:0.6268;stroke-miterlimit:10"
                    />
                    <line style="display:inline;fill:none;fill-rule:evenodd;stroke:#2b2e31;stroke-width:0.6268;stroke-miterlimit:10" stroke-miterlimit="10"
                        x1="126.49408" y1="35.816593" x2="145.59413" y2="35.816593" id="line4848-2" />
                </g>
                <g style="display:inline;stroke-width:0.99999762" id="stand-bent" transform="matrix(1.0000048,0,0,1,-424.20869,-246.1834)">
                    <line style="fill:none;stroke:#2b2e31;stroke-width:0.62679851;stroke-miterlimit:10" stroke-miterlimit="10" x1="580.40002"
                        y1="282" x2="580.40002" y2="277.39999" id="line4856-4" />
                    <line style="fill:none;stroke:#2b2e31;stroke-width:0.62679851;stroke-miterlimit:10" stroke-miterlimit="10" x1="584" y1="282"
                        x2="584" y2="277.39999" id="line4864-7" />
                </g>
                <g class="figure" inkscape:connector-curvature="0" id="figure3" transform="translate(-0.3866,76.5)">
                    <path d="M 32.2,0.9 V 32.4" />
                    <path d="M 0.7,32.4 V 0.9" />
                    <path d="M 0.7,8.7 H 32.2" />
                    <path d="M 0.7,16.6 H 32.2" />
                    <path d="M 0.7,24.5 H 32.2" />
                    <path d="M 32.2,32.4 H 0.7" />
                    <path d="M 0.7,0.9 H 32.2" />
                    <path d="M 11.2,32.4 V 0.9" />
                    <path d="M 21.7,32.4 V 0.9" />
                </g>
                <g style="display:inline" id="figure4" transform="translate(-424.3866,-246.40039)">
                    <path style="fill:none;stroke:#2b2e31;stroke-width:0.6268;stroke-miterlimit:10" inkscape:connector-curvature="0" stroke-miterlimit="10"
                        d="m 561.2,347.8 v -22.7 c 0,-0.8 0.7,-1.5 1.5,-1.5 h 39 c 0.8,0 1.5,0.7 1.5,1.5 v 22.7 c 0,0.8 -0.7,1.5 -1.5,1.5 h -39 c -0.8,0 -1.5,-0.7 -1.5,-1.5 z"
                        id="path4812-0" />
                    <g id="g4820-4">
                        <line style="fill:none;stroke:#2b2e31;stroke-width:0.6268;stroke-miterlimit:10" stroke-miterlimit="10" x1="572.70001" y1="352.29999"
                            x2="591.79999" y2="352.29999" id="line4818-5" />
                    </g>
                    <g id="g4838-8">
                        <g id="g4828-4">
                            <line style="fill:none;stroke:#2b2e31;stroke-width:0.6268;stroke-miterlimit:10" stroke-miterlimit="10" x1="580.40002" y1="352.29999"
                                x2="580.40002" y2="349.29999" id="line4826-1" />
                        </g>
                        <g id="g4836-2">
                            <line style="fill:none;stroke:#2b2e31;stroke-width:0.6268;stroke-miterlimit:10" stroke-miterlimit="10" x1="584" y1="352.29999"
                                x2="584" y2="349.29999" id="line4834-4" />
                        </g>
                    </g>
                </g>
            </g>
        </svg>
    </div>
</div>
<!-- finish CONTENT HERE -->