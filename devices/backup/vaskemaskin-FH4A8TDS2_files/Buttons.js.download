/**
 * Button Animation
 * Create an animation dependency that can be displayed across all browsers to show the compare feature has been used
 * DOM DEPENDENCIES
 * - compare-btn - class
 * - .button .primary - class
 */
 Site.Buttons = (function(window, S) {


    
    return {
        init : function() {
            var $ctaButton = $('.cta');
            
            $('body').on('click', '.cta', function(event){
                var $noLoading = 'no-loading';
                if (!$(event.currentTarget).hasClass($noLoading) && !$(event.currentTarget).hasClass("semi-opaque")) {
                    $(event.currentTarget).addClass("loading"); 
                }                
            });
            
            $(window).bind('pageshow', function(event) {
                if (event.originalEvent.persisted) {
                    if ($ctaButton.hasClass('loading')) {
                        $ctaButton.removeClass('loading');
                    }
                }
            });
            
            $('body').on('click', '.el-button:not(.add-to-basket, .collect-at-store-button, .add-subscription-to-basket)', function(){
                S.Common.resetButtonLoading();
            });

        }
    };
    
}(this, Site));
    